{"version":3,"sources":["src/helpers.js","src/rs-slider.js","src/main.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["addDOMElement","wrapper","tag","classList","attList","DOMElement","document","createElement","length","forEach","add","item","Object","keys","setAttribute","key","appendChild","Slider","id","slides","position","getElementById","querySelectorAll","element","push","addArrows","addPaginator","showSlide","arrows","updateArrows","addEventListener","move","toPosition","fromPosition","showArrows","paginator","paginatorElements","index","jump","updatePaginator","remove","delta","setPosition","oldPosition","button","show","state","sliderID","testSlider","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","module"],"mappings":"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","file":"main.be9d8573.map","sourceRoot":"..","sourcesContent":["/**\n * Adds an element to DOM\n * @param   {Node} wrapper \n * @param   {String} tag Tag for element\n * @param   {Array} classList List of classes\n * @param   {Object} attList List of attributes\n *\n * @returns {Node} DOM object\n */\nexport let addDOMElement = function( wrapper, tag='div', classList=[], attList={} ) {\n    \n  let DOMElement = document.createElement(tag);\n\n  // TODO: Проверить classList и attList на типы!\n\n  if (classList.length > 0) {\n    classList.forEach( item => DOMElement.classList.add(item));\n  }\n\n  if (attList.length > 0) {\n    Object.keys(attList).forEach( key  => DOMElement.setAttribute(key, attList[key]) );\n  }\n\n  wrapper.appendChild(DOMElement);\n  \n  return DOMElement;\n\n};","import { addDOMElement } from './helpers.js';\n\nexport class Slider {\n\n  constructor( id ) {\n    \n    this.slides = []; // list of all slider slides as DOM objects\n    this.position = 1;\n\n    this.wrapper = document.getElementById(id);\n\n    // Add images from HTML markup\n    this.wrapper.querySelectorAll('.rsslider__item').forEach( function(element) {\n      element.classList.add('hidden');\n      this.slides.push(element);\n    }, this);\n\n    this.addArrows();\n    this.addPaginator();\n    this.showSlide(this.position);\n  }\n\n  // Methods\n   \n  /**\n   * Add 'prev' and 'next' arrows\n   */\n  addArrows() {\n\n    this.arrows = {};\n\n    this.arrows['prev'] = addDOMElement(this.wrapper, 'button', ['rsslider__prev']);\n    this.arrows['next'] = addDOMElement(this.wrapper, 'button', ['rsslider__next']);\n    this.updateArrows();\n\n    // Set event listeners\n    this.arrows['prev'].addEventListener( 'click', () => this.move(-1) );\n    this.arrows['next'].addEventListener( 'click', () => this.move(1) );\n\n  }\n\n  /**\n   * Update 'prev'/'next' arrows on sides\n   * @param  {int} toPosition \n   * @param  {int} fromPosition optional\n   */\n  updateArrows(toPosition=this.position, fromPosition=this.position) {\n\n    switch (fromPosition) {\n    case 1:\n      this.showArrows('prev', true);\n      break;\n    case this.slides.length:\n      this.showArrows('next', true);\n      break;\n    }\n\n    switch (toPosition) {\n    case 1:\n      this.showArrows('prev', false);\n      break;\n    case this.slides.length:\n      this.showArrows('next', false);\n      break;\n    }\n\n  }\n\n  addPaginator() {\n\n    this.paginator = addDOMElement(this.wrapper, 'div', ['rsslider__paginator']);\n    this.paginatorElements = [];\n\n    this.slides.forEach( () => \n      this.paginatorElements.push(addDOMElement(this.paginator, 'button', ['rsslider__paginator__button'])) );\n\n    // Set event listeners to each paginator element\n\n    this.paginatorElements.forEach( (element, index) => {\n      element.addEventListener( 'click', () => this.jump(index+1));\n    });\n\n    this.updatePaginator();\n\n  }\n\n  updatePaginator(toPosition=this.position, fromPosition=this.position) {\n\n    this.paginatorElements[fromPosition-1].classList.remove('active');\n    this.paginatorElements[toPosition-1].classList.add('active');\n\n  }\n\n\n  move(delta) { \n\n    this.setPosition(this.position + delta);\n\n  }\n\n  jump(position) {\n\n    this.setPosition(position);\n\n  }\n\n\n  /**\n   * Set new position of slider, update all controls depending on initial and target position\n   * @param  {int} position\n   */\n  setPosition(position) {\n\n    if( position < 1 || position > this.slides.length) {\n      return false; // error, no action\n    } else if(position===this.position) {\n      return false; // TODO: Decide should we handle this excusively\n    }\n\n    let oldPosition = this.position;\n\n    this.showSlide(oldPosition,false); // Note: this.position may be out of range!\n    this.position = position;\n    this.showSlide();\n\n    this.updateArrows(position, oldPosition);\n    this.updatePaginator(position, oldPosition);\n    \n  }\n\n\n  /**\n   * Show or hide 'prev'/'next' arrow\n   * @param   {String} button 'prev' or 'next'\n   * @returns {Boolean} show \n   */\n  showArrows(button, show) {\n\n    if (show) {\n      this.arrows[button].classList.remove('hidden');\n    } else {\n      this.arrows[button].classList.add('hidden');\n    }\n\n  }\n  \n  /**\n   * Show or hide slide of given position. Show current slide by default\n   * @param  {} position=this.position\n   * @param  {} state=true\n   */\n  showSlide(position=this.position, state=true) {\n\n    if (position<1 || position>this.slides.length) {\n      return false;\n    }\n\n    if(state) {\n      this.slides[position-1].classList.remove('hidden');\n    } else {\n      this.slides[position-1].classList.add('hidden');\n    }\n  }\n}\n","import { Slider } from './rs-slider';\nimport './styles/rs-slider.scss';\n\nvar sliderID = 'mySlider';\nvar testSlider = new Slider(sliderID);\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}